<!DOCTYPE html><html lang="en"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Further problems with dynamic links for R-Grass GIS 7 users in Mac OSX | Avit Bhowmik | Environmental Scientist 路 Climate Solutionist</title><meta name="description" content="Avit Bhowmik is the Research Director of Centre for Research on Sustainable Societal Transformation in Karlstad University "><meta itemprop="name" content="Avit Bhowmik"><meta itemprop="description" content="Avit Bhowmik is the Research Director of Centre for Research on Sustainable Societal Transformation in Karlstad University "><meta itemprop="image" content="http://avitbhowmik.ml/assets/images/vraster.jpg"><meta property="og:url" content="http://avitbhowmik.ml/2016/07/06/v_extract/"><meta property="og:type" content="website"><meta property="og:title" content="Further problems with dynamic links for R-Grass GIS 7 users in Mac OSX | Avit Bhowmik | Environmental Scientist 路 Climate Solutionist"><meta property="og:site_name" content="Avit Bhowmik | Environmental Scientist 路 Climate Solutionist"><meta property="og:description" content="Avit Bhowmik is the Research Director of Centre for Research on Sustainable Societal Transformation in Karlstad University "><meta property="og:image" content="http://avitbhowmik.ml/assets/images/vraster.jpg"><meta name="twitter:url" content="http://avitbhowmik.ml/2016/07/06/v_extract/"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Further problems with dynamic links for R-Grass GIS 7 users in Mac OSX | Avit Bhowmik | Environmental Scientist 路 Climate Solutionist"><meta name="twitter:site" content="Avit Bhowmik | Environmental Scientist 路 Climate Solutionist"><meta name="twitter:description" content="Avit Bhowmik is the Research Director of Centre for Research on Sustainable Societal Transformation in Karlstad University "><meta name="twitter:creator" content="@avitbhowmik"><meta property="twitter:image" content="http://avitbhowmik.ml/assets/images/vraster.jpg"><link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico"><link rel="stylesheet" href="/assets/css/app.min.css"><link rel="alternate" type="application/rss+xml" title="Avit Bhowmik | Environmental Scientist 路 Climate Solutionist" href="/feed.xml"><link rel="canonical" href="/2016/07/06/v_extract/"> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-70156509-1', 'auto'); ga('send', 'pageview'); </script></head><body id="further-problems-with-dynamic-links-for-r-grass-gis-7-users-in-mac-osx" class="post-layout"><header class="header" style="background-color:#F7DC6F;"> <a class="header__title" href="http://avitbhowmik.ml/">Avit Bhowmik | Environmental Scientist 路 Climate Solutionist</a><nav><ul class="header__list"><li><a href="/about">about</a></li><li><a href="/research">research</a></li><li><a href="/teaching">teaching</a></li><li><a href="/">outreach</a></li><li><span class="popup__open">contact</span></li></ul></nav></header><main class=""><div class="post"><article itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting"><div class="post__header section-padding--double"><div class="grid-small"><h2 itemprop="name headline">Further problems with dynamic links for R-Grass GIS 7 users in Mac OSX</h2><time class="post__date" datetime="2016-07-06T00:00:00+02:00" itemprop="datePublished">6 Jul 2016</time></div></div><div class="post__img"><div><figure class="absolute-bg" style="background-image: url('/assets/images/vraster.jpg');"></figure></div></div><p align="right"><em align="right">Image: OS Geo&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</em></p><div class="post__content section-padding"><div class="grid"><div id="markdown" itemprop="articleBody"><p>I published a <a href="http://avitbhowmik.ml/blog/dyld_grass/">post</a> the day before yesterday on workarounds for R-Grass GIS 7 (co-interface) users in Mac OSX, particularly for the ones updated to El Capitan. The major issues for GRASS users in EL Capitan are related to the dynamic links (dyld), for which I offered the solution of including the possible python library paths in the system environment as <code class="highlighter-rouge">DYLD_LIBRARY_PATH</code>. Although this solved the problem of initiating GRASS from R interface, the issue of dyld paths persists while calling the <a href="https://grass.osgeo.org/grass70/manuals/v.extract.html"><code class="highlighter-rouge">'v.extract'</code></a> module. Initially, the error appeared to be like the following:</p><figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">sh</span><span class="o">:</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="w">   </span><span class="m">485</span><span class="w"> </span><span class="n">Trace</span><span class="o">/</span><span class="n">BPT</span><span class="w"> </span><span class="n">trap</span><span class="o">:</span><span class="w"> </span><span class="m">5</span><span class="w">       </span><span class="s1">'v.extract'</span><span class="w"> </span><span class="o">--</span><span class="n">interface</span><span class="o">-</span><span class="n">description</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="s1">'/var/folders/lc/pqsnf65j5td_2vw1wxy016qc0000gn/T//Rtmpx3qe5t/file1c7612c470c'</span><span class="w"> </span><span class="m">2</span><span class="o">&gt;</span><span class="w"> </span><span class="s1">'/var/folders/lc/pqsnf65j5td_2vw1wxy016qc0000gn/T//Rtmpx3qe5t/file1c74b9dbe1c'</span><span class="w">

</span><span class="n">Error</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">file.exists</span><span class="p">(</span><span class="n">file</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nf">missing</span><span class="p">(</span><span class="n">asText</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">asText</span><span class="w"> </span><span class="o">==</span><span class="w">  </span><span class="o">:</span><span class="w"> 
  </span><span class="n">argument</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">zero</span><span class="w">

</span><span class="n">Error</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">parseGRASS</span><span class="p">(</span><span class="s2">"v.extract"</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">v.extract</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">parsed</span></code></pre></figure><p>which may tell you that it is related to not finding a python library. However, the actual error can be found by setting <code class="highlighter-rouge">legacyExec</code> argument to <code class="highlighter-rouge">TRUE</code> in the <code class="highlighter-rouge">parseGRASS</code>command.</p><figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">parseGRASS</span><span class="p">(</span><span class="s2">"v.extract"</span><span class="p">,</span><span class="w"> </span><span class="n">legacyExec</span><span class="o">=</span><span class="nb">T</span><span class="p">)</span><span class="w">

</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dyld</span><span class="o">:</span><span class="w"> </span><span class="n">Library</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">loaded</span><span class="o">:</span><span class="w"> </span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">Frameworks</span><span class="o">/</span><span class="n">FFTW3.framework</span><span class="o">/</span><span class="n">Versions</span><span class="o">/</span><span class="m">3</span><span class="o">/</span><span class="n">FFTW3</span><span class="w">
    </span><span class="n">Referenced</span><span class="w"> </span><span class="n">from</span><span class="o">:</span><span class="w"> </span><span class="o">/</span><span class="n">Applications</span><span class="o">/</span><span class="n">GRASS</span><span class="m">-7.3</span><span class="n">.app</span><span class="o">/</span><span class="n">Contents</span><span class="o">/</span><span class="n">MacOS</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libgrass_gmath.7.3.svn.dylib</span><span class="w">
    </span><span class="n">Reason</span><span class="o">:</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">suitable</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">found.</span><span class="w">
  </span><span class="n">Error</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">file.exists</span><span class="p">(</span><span class="n">file</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nf">missing</span><span class="p">(</span><span class="n">asText</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">asText</span><span class="w"> </span><span class="o">==</span><span class="w">  </span><span class="o">:</span><span class="w"> 
  </span><span class="n">argument</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">zero</span><span class="w">
  </span><span class="n">Error</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">parseGRASS</span><span class="p">(</span><span class="s2">"v.extract"</span><span class="p">,</span><span class="w"> </span><span class="n">legacyExec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">v.extract</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">parsed</span></code></pre></figure><p>This is in fact a dyld problem but related to a library provided by FFTW framework. The FFTW framework is not a requirement for GRASS 7 and also not available (the newer versions) for download in the GRASS page. It comes with the GRASS installation package but R cannot establish a symlink to the directory containing the library, i.e. <code class="highlighter-rouge">/Applications/GRASS-7.3.app/Contents/MacOS/lib/FFTW3.framework/Versions/3</code>, although it was added in the <code class="highlighter-rouge">DYLD_LIBRARY_PATH</code>. It can also be downloaded from the FFTW official page but the library provided is not identified by GRASS as an architecture matching universal wrapper. The workaround I suggest (found out after struggling for a day) is to simply copy the FFTW framework provided by GRASS from the GRASS directory to the framework directory.</p><figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">system</span><span class="p">(</span><span class="s">"cp -Rai /Applications/GRASS-7.3.app/Contents/MacOS/lib/FFTW3.framework /Library/Frameworks"</span><span class="p">)</span></code></pre></figure><p>This will solve the problem!</p></div><ul class="post__social"><li><a href="https://www.facebook.com/sharer/sharer.php?u=http://avitbhowmik.ml/2016/07/06/v_extract/" target="_blank"><i class="fa fa-facebook"></i></a></li><li><a href="https://twitter.com/intent/tweet?&text=Further problems with dynamic links for R-Grass GIS 7 users in Mac OSX+http://avitbhowmik.ml/2016/07/06/v_extract/+by+Avit K. Bhowmik" target="_blank"><i class="fa fa-twitter"></i></a></li><li><a href="https://plus.google.com/share?url=http://avitbhowmik.ml/2016/07/06/v_extract/" target="_blank"><i class="fa fa-google-plus"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?mini=true&source=Further problems with dynamic links for R-Grass GIS 7 users in Mac OSX&summary=&url=http://avitbhowmik.ml/2016/07/06/v_extract/" target="_blank"><i class="fa fa-linkedin"></i></a></li><li><a href="https://www.stumbleupon.com/badge/?url=http://avitbhowmik.ml/2016/07/06/v_extract/" target="_blank"><i class="fa fa-stumbleupon"></i></a></li><li><a href="https://www.reddit.com/submit?url=http://avitbhowmik.ml/2016/07/06/v_extract/" target="_blank"><i class="fa fa-reddit-alien"></i></a></li><li><a href="https://www.tumblr.com/share/link?url=http://avitbhowmik.ml/2016/07/06/v_extract/" target="_blank"><i class="fa fa-tumblr"></i></a></li><li><a href="https://www.pinterest.com/pin/create/link/?description=&media=http://avitbhowmik.ml/assets/images/vraster.jpg&url=http://avitbhowmik.ml/2016/07/06/v_extract/" target="_blank"><i class="fa fa-pinterest"></i></a></li></ul></div></div><div class="section-padding--none"><div class="grid"><hr class="sep"/></div></div><div class="section-padding"><div class="grid-small"> <span class="post__author">Posted by Avit K. Bhowmik</span><p class="post__bio"></p></div></div></article></div><section class="related section-padding"><div class="grid-xlarge"><h2 class="related__title">Related</h2><div class="related__container"><article class="related__post"> <a class="related__link" href="http://avitbhowmik.ml/2016/07/06/v_extract/"><figure class="related__img"> <img src="/assets/images/vraster.jpg" alt="Further problems with dynamic links for R-Grass GIS 7 users in Mac OSX"/></figure><div><h2 class="related__text">Further problems with dynamic links for R-Grass GIS 7 users in Mac OSX</h2></div></a></article><article class="related__post"> <a class="related__link" href="http://avitbhowmik.ml/2016/07/04/dyld_grass/"><figure class="related__img"> <img src="/assets/images/rgrass.jpg" alt="A workaround for R-Grass GIS 7 (co-interface) users in Mac OSX"/></figure><div><h2 class="related__text">A workaround for R-Grass GIS 7 (co-interface) users in Mac OSX</h2></div></a></article></div></div></section></main><footer class="footer section-padding"><div class="grid"><div class="subscribe" id="subscribe"><div class="subscribe__container"> <span class="subscribe__title">Subscribe</span><p class="subscribe__text">Get a weekly email of posts Ive added to the site.</p><form method="POST" action="https://samesies.us17.list-manage.com/subscribe/post-json?u=66ddf555dab480e6a8606430b&amp;id=89b3ee034f&amp;c=?" id="mc-signup" name="mc-embedded-subscribe-form" novalidate><div style="position: absolute; left: -5000px;" aria-hidden="true"> <input type="text" name="b_66ddf555dab480e6a8606430b_89b3ee034f" tabindex="-1" value=""></div><div class="form-group"> <input id="mce-EMAIL" type="email" name="EMAIL" placeholder="Email Address"></div><div class="form__btn"> <input id="mc-submit" type="submit" value="Sign Up" name="subscribe"></div></form><p class="subscribe__error hidden"></p></div></div><hr class="sep--white"/><div class="footer__container"><ul class="footer__tags"><li><a class="footer__link" href="/tag/sustainability">Sustainability</a></li><li><a class="footer__link" href="/tag/transformation">Transformation</a></li><li><a class="footer__link" href="/tag/exponential-climate-action">Exponential Climate Action</a></li><li><a class="footer__link" href="/tag/climate-action">Climate Action</a></li><li><a class="footer__link" href="/tag/climate-change">Climate Change</a></li></ul><ul class="footer__social"><li><a href="https://twitter.com/avitbhowmik" target="_blank"><i class="fa fa-twitter"></i></a></li><li><a href="https://www.kau.se/en/researchers/avit-kumar-bhowmik" target="_blank"><i class="fa fa-KarlstadUniversity"></i></a></li><li><a href="https://www.linkedin.com/in/avitbhowmik/" target="_blank"><i class="fa fa-linkedin"></i></a></li><li><a href="https://github.com/AvitBhowmik" target="_blank"><i class="fa fa-github"></i></a></li><li><a href="https://www.facebook.com/akbhowmik" target="_blank"><i class="fa fa-facebook"></i></a></li></ul></div></div></footer><section class="contact popup"><div class="popup__close"><div class="popup__exit"></div></div><div class="contact__container popup__container"><div class="contact__img"><figure class="absolute-bg" style="background-image: url(/assets/images/placeholder-28.jpg);"></figure></div><div class="contact__content"><div class="contact__mast section-padding--half"><div class="grid"><h2>Contact</h2></div><p> If you would like to get in touch, send me a comment or request a feature or an interview, please do so here.</p></div><div class="section-padding--none"><hr class="sep"/></div><div class="contact__form section-padding--half"><div class="grid-xlarge"> <form id="form" class="form" action="https://formcarry.com/s/HkIo0nMb7" method="POST"><div class="form__subcontainer"><div> <label for="form-first-name">First Name</label> <input type="text" name="first-name" id="form-first-name" required></div><div> <label for="form-last-name">Last Name</label> <input type="text" name="last-name" id="form-last-name" required></div></div><div> <label for="form-email">E-Mail</label> <input type="email" name="email" id="form-email" required></div><div> <label for="form-message">Message</label> <textarea name="message" id="form-message" rows="3"></textarea></div><div class="form__submit"><div class="form__btn"> <input type="submit" value="Send"></div></div><p class="form__message"></p></form></div></div></div></div></section><script src="/assets/js/app.min.js"></script></body></html>
  